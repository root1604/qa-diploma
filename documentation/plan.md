### Планирование автоматизации тестирования  

### 1. Перечень автоматизируемых сценариев

### Тестирование UI

####  Позитивные тесты  
  1. Покупка тура по кнопке "Купить" по данным действительной карты (статус карты "APPROVED")  
  2. Покупка тура по кнопке "Купить в кредит" по данным действительной карты (статус карты "APPROVED")  
  3. Покупка тура по кнопке "Купить" по данным недействительной карты (статус карты "DECLINED")  
  4. Покупка тура по кнопке "Купить в кредит" по данным недействительной карты (статус карты "DECLINED")   
  
####  Негативные тесты  
  
  Покупка по кнопке "Купить"  
    
  5. Отправка формы с незаполненным полем "Номер карты", остальные поля заполнены валидными данными.  
  6. Отправка формы с незаполненным полем "Месяц", остальные поля заполнены валидными данными.  
  7. Отправка формы с незаполненным полем "Год", остальные поля заполнены валидными данными.  
  8. Отправка формы с незаполненным полем "Владелец", остальные поля заполнены валидными данными.  
  9. Отправка формы с незаполненным полем "CVC/CVV", остальные поля заполнены валидными данными.  
  10. Отправка формы со всеми незаполненными полями.  
  11. Отправка формы с полем "Номер карты", содержащим 15 символов, остальные поля заполнены валидными данными.  
  12. Отправка формы с полем "Месяц", содержащим 1 символ, остальные поля заполнены валидными данными.  
  13. Отправка формы со значением больше 12 и меньше 100 в поле "Месяц", остальные поля заполнены валидными данными.  
  14. Отправка формы со значением, содержащим 1 символ в поле "Год", остальные поля заполнены валидными данными.  
  15. Отправка формы со значением больше 40 и меньше 100 в поле "Год", остальные поля заполнены валидными данными.  
  16. Отправка формы со значением поля "Владелец" длиной 257 символов, остальные поля заполнены валидными данными.  
  17. Отправка формы с заполненным на кириллице полем "Владелец", остальные поля заполнены валидными данными.  
  18. Отправка формы с содержащим спецсимволы полем "Владелец", остальные поля заполнены валидными данными.  
  19. Отправка формы со значением, содержащим 2 символа в поле "CVC/CVV", остальные поля заполнены валидными данными. 
    
  Покупка по кнопке "Купить в кредит"  
    
  20. Отправка формы с незаполненным полем "Номер карты", остальные поля заполнены валидными данными.  
  21. Отправка формы с незаполненным полем "Месяц", остальные поля заполнены валидными данными.  
  22. Отправка формы с незаполненным полем "Год", остальные поля заполнены валидными данными.  
  23. Отправка формы с незаполненным полем "Владелец", остальные поля заполнены валидными данными.  
  24. Отправка формы с незаполненным полем "CVC/CVV", остальные поля заполнены валидными данными.  
  25. Отправка формы со всеми незаполненными полями.  
  26. Отправка формы с полем "Номер карты", содержащим 15 символов, остальные поля заполнены валидными данными.  
  27. Отправка формы с полем "Месяц", содержащим 1 символ, остальные поля заполнены валидными данными.  
  28. Отправка формы со значением больше 12 и меньше 100 в поле "Месяц", остальные поля заполнены валидными данными.  
  29. Отправка формы со значением, содержащим 1 символ в поле "Год", остальные поля заполнены валидными данными.  
  30. Отправка формы со значением больше 40 и меньше 100 в поле "Год", остальные поля заполнены валидными данными.  
  31. Отправка формы со значением поля "Владелец" длиной 257 символов, остальные поля заполнены валидными данными.  
  32. Отправка формы с заполненным на кириллице полем "Владелец", остальные поля заполнены валидными данными.  
  33. Отправка формы с содержащим спецсимволы полем "Владелец", остальные поля заполнены валидными данными.  
  34. Отправка формы со значением, содержащим 2 символа в поле "CVC/CVV", остальные поля заполнены валидными данными.  

### Тестирование API
  
####  Позитивные тесты  
  
  35. Отправка POST-запроса на покупку с данными действительной карты (статус карты "APPROVED")  
  36.  Отправка POST-запроса на покупку в кредит с данными действительной карты (статус карты "APPROVED")  
  37.  Отправка POST-запроса на покупку с данными недействительной карты (статус карты "DECLINED")  
  38. Отправка POST-запроса на покупку в кредит с данными недействительной карты (статус карты "DECLINED")   
      
 #### Негативные тесты  
   
  39. Отправка POST-запроса на покупку с незаполненным полем "Номер карты", остальные поля заполнены валидными данными.  
  40. Отправка POST-запроса на покупку с незаполненным полем "Месяц", остальные поля заполнены валидными данными.  
  41. Отправка POST-запроса на покупку с незаполненным полем "Год", остальные поля заполнены валидными данными.  
  42. Отправка POST-запроса на покупку с незаполненным полем "Владелец", остальные поля заполнены валидными данными.  
  43. Отправка POST-запроса на покупку с незаполненным полем "CVC/CVV", остальные поля заполнены валидными данными.  
  44. Отправка POST-запроса на покупку со всеми незаполненными полями.  
  45. Отправка POST-запроса на покупку с полем "Номер карты", содержащим 15 символов, остальные поля заполнены валидными данными.  
  46. Отправка POST-запроса на покупку с полем "Месяц", содержащим 1 символ, остальные поля заполнены валидными данными.  
  47. Отправка POST-запроса на покупку со значением больше 12 и меньше 100 в поле "Месяц", остальные поля заполнены валидными данными.  
  48. Отправка POST-запроса на покупку со значением, содержащим 1 символ в поле "Год", остальные поля заполнены валидными данными.  
  49. Отправка POST-запроса на покупку со значением больше 40 и меньше 100 в поле "Год", остальные поля заполнены валидными данными.  
  50. Отправка POST-запроса на покупку со значением поля "Владелец" длиной 257 символов, остальные поля заполнены валидными данными.  
  51. Отправка POST-запроса на покупку с заполненным на кириллице полем "Владелец", остальные поля заполнены валидными данными.  
  52. Отправка POST-запроса на покупку с содержащим спецсимволы полем "Владелец", остальные поля заполнены валидными данными.  
  53. Отправка POST-запроса на покупку со значением, содержащим 2 символа в поле "CVC/CVV", остальные поля заполнены валидными данными.  
  54. Отправка POST-запроса на покупку с полем "Номер карты", содержащим 17 символов, остальные поля заполнены валидными данными.  
  55. Отправка POST-запроса на покупку с полем "Номер карты", содержащим 16 символов, с отличающимися от цифр значениями, остальные поля заполнены валидными данными.  
  56. Отправка POST-запроса на покупку с полем "Месяц", содержащим 3 символа, остальные поля заполнены валидными данными.  
  57. Отправка POST-запроса на покупку с полем "Месяц", содержащим 2 символа, с отличающимися от цифр значениями, остальные поля заполнены валидными данными.  
  58. Отправка POST-запроса на покупку с полем "Год", содержащим 3 символа, остальные поля заполнены валидными данными.  
  59. Отправка POST-запроса на покупку с полем "Год", содержащим 2 символа, с отличающимися от цифр значениями, остальные поля заполнены валидными данными.  
  60. Отправка POST-запроса на покупку с полем "CVC/CVV", содержащим 4 символа, остальные поля заполнены валидными данными.  
  61. Отправка POST-запроса на покупку с полем "CVC/CVV", содержащим 3 символа, с отличающимися от цифр значениями, остальные поля заполнены валидными данными.  
  
### Тестирование БД.
    
  Если используется БД Mysql  
    62. Данные по покупке в кредит записываются в таблицу credit_request_entity  
    63. Данные по покупке не в кредит записываются в таблицу order_entity  
    64. Данные о транзакции записываются в таблицу payment_entity  
      
  Если используется БД Postgres  
    65. Данные по покупке в кредит записываются в таблицу credit_request_entity  
    66. Данные по покупке не в кредит записываются в таблицу order_entity  
    67. Данные о транзакции записываются в таблицу payment_entity     
      
### 2. Перечень используемых инструментов с обоснованием выбора
    
  1. Автотесты пишутся на Java, так как тестируемое приложение написано на нем.  
  2. Для тестирования UI будем использовать selenide - удобный инструмент для автоматических тестов, построенный на базе Selenium WebDriver, так как он позволяет сделать тесты более стабильными, позволяет обрабатывать таймауты в приложениях, автоматическое открытие и закрытие браузера, более простой синтаксис по сравнению с обычным Selenium WebDriver.  
  3. Библиотека для тестов junit, имеющая следующие преимущества:  
    - Представляет из себя тестовую среду.  
    - Не требует контроля со стороны пользователя во время исполнения.  
    - Возможность запускать несколько тестов одновременно.  
    - Сообщения обо всех ошибках в ходе тестирования.  
  4. Система автоматической сборки gradle для запуска тестов. Преимущества:  
    - Гибкая в настройках  
    - встроена в среду разработки IntelliJ Idea  
    - отсллеживает, что изменилось в сборке и последующие сборки проходят быстрее (инкрементальная сборка)  
  5. Фреймворк allure для генерации отчетов имеет много настроек, выдает красиво оформленные отчеты  
  6. Библиотека Rest Assured - для тестирования API. Имеет большой набор функционала, для полноценного использования не обязательно глубоко разбираться в HTTP  
  7. DbUtils - библиотека для работы с базами данных. Упрощает работу с JDBC, предоставляет чистый и понятный код для выполнения операций с базой данных без необходимости написания кода для очистки или предотвращения утечки ресурсов  
  
### 3. Перечень и описание возможных рисков при автоматизации
  
  1. Временные затраты на настройку тестового окружения  
  2. Временные затраты на написание тестовых сценариев  
  3. Временные затраты на отладку тестовых сценариев  
  
### 4. Интервальная оценка с учётом рисков (в часах)
  
1. Настройка тестового окружения - 8   
2. Написание и отладка автотестов - 48  
3. Прогон тестов и описание багов - 16  
4. отчёт по автоматизации и по итогам тестирования - 16  
Итого: 88 часов  
  
### 5. План сдачи работ
  
1. Настройка тестового окружения, написание и отладка автотестов - 06.03.2020  
2. Прогон тестов и описание багов - 11.03.2020  
3. Отчёт по автоматизации и по итогам тестирования - 13.03.2020  
